{% extends "layout.html" %}

{% block content %}

<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Page test</h1>
</div>

<div class="card shadow border-0 mb-4">
    <div class="card-body">
        <div class="row">
            <canvas class="w-100" id="chart3" width="50" height="15"></canvas>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-8">
        <div class="card shadow border-0 mb-4">
            <div class="card-body">
                <div class="row">
                    <canvas class="my-4 w-100" id="chart1" width="100" height="50"></canvas>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-4">
        <div class="card shadow border-0 mb-4">
            <div class="card-body">
                <h5 class="mb-0">Les 5 clients qui comptabilisent le plus de crédits antérieurs</h5>
                <div class="row">
                    <canvas class="my-4 w-100" id="chart2" width="100" height="50"></canvas>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="card shadow border-0">
    <div class="card-body">
        <table class="table table-hover">
            <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Colonne 1</th>
                <th scope="col">Colonne 2</th>
                <th scope="col">Colonne 3</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <th scope="row">1</th>
                <td>Valeur</td>
                <td>Valeur</td>
                <td>Valeur</td>
            </tr>
            <tr>
                <th scope="row">2</th>
                <td>NaN</td>
                <td>Valeur</td>
                <td>Valeur</td>
            </tr>
            <tr>
                <th scope="row">3</th>
                <td>Valeur</td>
                <td>NaN</td>
                <td>Valeur</td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

{% endblock %}

{% block graph %}

    (function () {
        'use strict'

        feather.replace()

        var randomScalingFactor = function() {
            return Math.round(Math.random() * 100);
        };
        var color = Chart.helpers.color;

        // Graphs
        var ctx1 = document.getElementById('chart1')

        // eslint-disable-next-line no-unused-vars
        var myChart = new Chart(ctx1, {
            type: 'bar',
            data: {
                labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
                datasets: [{
                    label: '# test',
                    data: [12, 19, 3, 5, 2, 3],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.7)',
                        'rgba(54, 162, 235, 0.7)',
                        'rgba(255, 206, 86, 0.7)',
                        'rgba(75, 192, 192, 0.7)',
                        'rgba(153, 102, 255, 0.7)',
                        'rgba(255, 159, 64, 0.7)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true
                        }
                    }]
                }
            }
        });

        /*--- Graphique doughnut - Top 5 clients avec nombre de crédits ---*/

        var labels = "{{ labels }}".slice(0, -1).slice(1).split(',')
        var data = {{ data }}

        var ctx2 = document.getElementById('chart2')
        var myChart = new Chart(ctx2, {
        type: 'doughnut',
        data: {
            labels: labels,
            datasets: [{
                data: data,
                backgroundColor: ["#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#c45850"]
            }]
        }
        });

        var ctx3 = document.getElementById('chart3')
        var myChart = new Chart(ctx3, {
            type: 'line',
            data: {
                labels: [0,10,20,30],
                datasets: [{
                    data: [60,85,106,4],
                    label: "#1",
                    borderColor: "#3e95cd",
                    fill: false
                }, {
                    data: [411,282,350,502],
                    label: "#2",
                    borderColor: "#8e5ea2",
                    fill: false
                }, {
                    data: [-4,78,302,24],
                    label: "#3",
                    borderColor: "#3cba9f",
                    fill: false
                }]
            }
        });


        /*var myRadarChart = new Chart(ctx, {
        type: 'radar',
        data: {
            labels: [['Eating', 'Dinner'], ['Drinking', 'Water'], 'Sleeping', ['Designing', 'Graphics'], 'Coding', 'Cycling', 'Running'],
            datasets: [{
                label: 'My First dataset',
                backgroundColor: 'rgb(244 67 54 / 0.2)',
                borderColor: 'red',
                pointBackgroundColor: 'red',
                data: [
                    randomScalingFactor(),
                    randomScalingFactor(),
                    randomScalingFactor(),
                    randomScalingFactor(),
                    randomScalingFactor(),
                    randomScalingFactor(),
                    randomScalingFactor()
                ]
            }, {
                label: 'My Second dataset',
                backgroundColor: 'rgb(13 110 252 / 0.2)',
                borderColor: 'blue',
                pointBackgroundColor: 'blue',
                data: [
                    randomScalingFactor(),
                    randomScalingFactor(),
                    randomScalingFactor(),
                    randomScalingFactor(),
                    randomScalingFactor(),
                    randomScalingFactor(),
                    randomScalingFactor()
                ]
            }]
        },
        options: {
            legend: {
                position: 'top',
            },
            title: {
                display: true,
                text: 'Chart.js Radar Chart'
            },
            scale: {
                ticks: {
                    beginAtZero: true
                }
            }
        }
        });*/
    })()

{% endblock %}